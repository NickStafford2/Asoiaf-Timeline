<div>

</div>

<form [formGroup]="updateForm">
  <mat-form-field>
    <mat-label>First Name</mat-label>
    <input formControlName="firstName" matInput placeholder="Petyr" />
    <mat-error *ngIf="firstName.errors?.['required']">required</mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Last Name</mat-label>
    <input formControlName="lastName" matInput placeholder="Bailish" />
    <mat-error *ngIf="lastName.errors?.['required']">required</mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Nickname</mat-label>
    <input formControlName="nickName" matInput placeholder="Littlefinger" />
  </mat-form-field>

  <mat-checkbox formControlName="isPov">POV</mat-checkbox>

  <ng-container formArrayName="houses">
    <ng-container *ngFor="let houseForm of houses.controls; let i = index">
      <div [formGroupName]="i">
        <mat-form-field appearance="fill">
          <input matInput formControlName="houseName" placeholder="Baratheon" />
        </mat-form-field>
        <mat-icon class="delete-btn" (click)="deleteHouse(i)">
          delete_forever
        </mat-icon>
      </div>
    </ng-container>
  </ng-container>
  <!--

  <mat-list >
    <ng-container>
    </ng-container>
    <mat-list-item>
      <ng-container [formGroup]="houseForm">
        <input matInput
               placeholder="house"
               formControlName="houseName" />
        <mat-icon class="delete-btn" (click)="deleteHouse(i)">
          delete_forever
        </mat-icon>

      </ng-container>
    </mat-list-item>
  </mat-list>
    -->

  <button mat-mini-fab (click)="addHouse()">
    <mat-icon class="add-course-btn">add</mat-icon>
  </button>
  <button
    mat-raised-button
    color="primary"
    [disabled]="!updateForm.valid || updateForm.pristine"
    (click)="onUpdate()">
    Update
  </button>

  <button mat-raised-button color="warn" (click)="onDelete()">Delete</button>
</form>
